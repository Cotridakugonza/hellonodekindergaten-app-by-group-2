meta(charset="UTF-8")
meta(name="viewport", content="width=device-width,initial-scale=1")
title Produce List - KGL
link(rel="stylesheet", href="/css/producelist.css")
link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css")

.sidebar
  .sidebar-header
    h2 Karibu Groceries Ltd
  ul.sidebar-menu
    li
      a(href="/admin")
        i.fas.fa-home
        span Dashboard
    li
      a(href="/addProduce")
        i.fas.fa-user-plus
        span Register Produce
    li
      a(href="/ProductsList").active
        i.fas.fa-users
        span Children List
    li
      a(href="/sales")
        i.fas.fa-clipboard-check
        span Attendance
    li
      a(href="/reports")
        i.fas.fa-chart-bar
        span Reports
    li
      a(href="/settings")
        i.fas.fa-cog
        span Settings
    li
      a(href="/logout")
        i.fas.fa-sign-out-alt
        span Logout

.main-content
  .header
    h1 Products List
    a.add-child-btn(href="/addProduce")
      i.fas.fa-plus
      | Add Produce
  .search-bar
    input(type="text", placeholder="Search produce...")
    button
      i.fas.fa-search
      | Search
  table
    thead
      tr
        th Product name
        th Quantity in stock
        th Quantity Re-stocked
        th Dealer Re-stocked
        th Date of Re-stock
        th Update
        th Delete
    tbody
       if products.length 
        each product in products
          tr
            td #{product.producename}
            td #{product. stockavailable}
            td #{product.restock}
            td #{product.dealersname}
            td #{moment(product.dateofrestock).format('DD-MM-YYYY')}
            td 
             a.action-btn.edit-btn(href="/updateproduce/"+product._id) Update
            td 
             form(action='/deleteproduct' method='POST')
              input(type='hidden' name='id' value=product._id)
              button.action-btn.delete-btn(type='submit') Delete
            